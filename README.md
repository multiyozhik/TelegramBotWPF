# TelegramBotWPF

TelegramBotWPF разработан:
- для получения и отправки сообщений, 
- для экспорта истории сообщений в текстовый файл ("MessagesHistory.txt" папки проекта) и возможности его просмотра,
- для просмотра списка скаченных файлов (кот. сохраняются в системную папку документов),
- для получения таблицы текущего курса валют.

Проект выполнен на платформе .NET и WPF с использованием nuget-пакетов:
- telegram.bot\17.0.0\
- telegram.bot.extensions.polling\1.0.2\

Бот работает по ссылке t.me/print_current_currency_bot.
Строка токена, сгенерированная https://telegram.me/BotFather, должна быть в "Token.txt" в bin-папке проекта.

Методы API телеграмм-бота по ссылке https://core.telegram.org/bots/api#available-types.

Сами курсы валют на текущую дату по данным ЦБ РФ по ссылке https://www.cbr-xml-daily.ru/daily_json.js.
Вызываем у объекта WebClient DownloadString(), получаем json-строку, 
десериализуем ее в Dictionary, получаем коллекцию валют с курсом.

Главное окно приложения имеет меню с вкладками: 
- Сообщения (2 подменю: "Экспорт истории сообщений" в txt-файл (сериализ. в строку и запис.), "Открыть файл истории сообщений"), 
- Файлы (по клику открывается диалоговое окно со списком скаченных файлов: документов, картинок, аудио, фото), 
- Курсы валют (по клику открывается диалоговое окно с таблицей наименование валюты - значение курса, руб.).

В главном окне 2 колонки:
- слева - ListBox История сообщений,
- справа - TextBox для отправки сообщения выбранному пользователю и кнопка "Отправить".

В конструкторе MainWindow.cs :
- инициализ. объект типа TelegamMessageClient для взаимод. с API бота, и 
- инициализ. ItemsSource у эл-та управл. MessageListBox глав. окна.

Класс TelegamMessageClient - для взаимодействия с встроенным TelegramBotClient-классом с применением его методов API и 
формированием ObservableCollection списка сообщений и списка имен скачен. файлов (они сохр. в систем. папку с документами).

